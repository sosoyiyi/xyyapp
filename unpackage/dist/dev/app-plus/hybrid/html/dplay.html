<html>
	<head>
		<meta charset="UTF-8">
		<title>DPlayer Demo</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<link rel="stylesheet" href="css/DPlayer.min.css">
		<script src="https://cdn.jsdelivr.net/npm/flv.js/dist/flv.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/hls.js/dist/hls.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/dashjs/dist/dash.all.min.js"></script>
		<script src="https://cdn.jsdelivr.net/webtorrent/latest/webtorrent.min.js"></script>
		<script src="js/DPlayer.min.js"></script>
	</head>

	<body class="">
		<div style="width:100%;height: 300px;" id="dplayer"></div>
	</body>
	<script>
		const dp = new DPlayer({
			container: document.getElementById('dplayer'),
			preload: 'auto',
			autoplay: true,
			video: {
				url: 'https://bili.meijuzuida.com/20190318/8800_9f739c96/index.m3u8',
				//url:''
				pic: 'img/0.jpg',
				type: 'hls'
			}
		});

		dp.fullScreen.request('web');
// 		document.addEventListener('webkitfullscreenchange', function() {
// 			var el = document.webkitFullscreenElement; //获取全屏元素  
// 			if (el) {
// 				plus.screen.lockOrientation('landscape'); //锁死屏幕方向为横屏  
// 				console.log("全屏");
// 			} else {
// 				plus.screen.lockOrientation("portrait-primary"); //解除屏幕方向的锁定  
// 				console.log("退出全屏")
// 			}
// 		});
		dp.on('resize', function(e) {
			var el = document.webkitFullscreenElement; //获取全屏元素  
			if (el) {
				plus.screen.lockOrientation('landscape'); //锁死屏幕方向为横屏  
				console.log("全屏");
			} else {
				plus.screen.lockOrientation("portrait-primary"); //解除屏幕方向的锁定  
				console.log("退出全屏")
			}
		});
		// 		dp.on('fullscreen', function() {
		// 			console.log('player fullscreen');
		// 		});
		// 		dp.on('fullscreen_cancel', function() {
		// 
		// 		})
	</script>
</html>
